import streamlit as st
import pandas as pd
import plotly.express as px
import seaborn as sns
import matplotlib.pyplot as plt

st.set_page_config(page_title="–ê–Ω–∞–ª—ñ–∑ –¥–∞–Ω–∏—Ö", layout="wide")

OUTCOME_TRANSLATION = {
    'Adoption': '–£—Å–∏–Ω–æ–≤–ª–µ–Ω–Ω—è',
    'Transfer': '–ü–µ—Ä–µ–¥–∞—á–∞ —ñ–Ω—à–æ–º—É –∑–∞–∫–ª–∞–¥—É',
    'Return_to_owner': '–ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–∏–∫—É',
    'Euthanasia': '–ï–≤—Ç–∞–Ω–∞–∑—ñ—è',
    'Died': '–°–º–µ—Ä—Ç—å'
}

SEX_TRANSLATION = {
    'Intact Male': '–ù–µ–∫–∞—Å—Ç—Ä–æ–≤–∞–Ω–∏–π —Å–∞–º–µ—Ü—å',
    'Intact Female': '–ù–µ—Å—Ç–µ—Ä–∏–ª—ñ–∑–æ–≤–∞–Ω–∞ —Å–∞–º–∫–∞',
    'Neutered Male': '–ö–∞—Å—Ç—Ä–æ–≤–∞–Ω–∏–π —Å–∞–º–µ—Ü—å',
    'Spayed Female': '–°—Ç–µ—Ä–∏–ª—ñ–∑–æ–≤–∞–Ω–∞ —Å–∞–º–∫–∞',
    'Unknown': '–ù–µ–≤—ñ–¥–æ–º–æ'
}

@st.cache_data
def load_file():
    df = pd.read_csv('pets.csv')

    df = df.rename(columns={
        'AnimalID': 'animal_id',
        'Name': 'name',
        'DateTime': 'date_time',
        'OutcomeType': 'outcome_type',
        'OutcomeSubtype': 'outcome_subtype',
        'AnimalType': 'animal_type',
        'SexuponOutcome': 'sex_upon_outcome',
        'AgeuponOutcome': 'age_upon_outcome',
        'Breed': 'breed',
        'Color': 'color'
    })

    def parse_age(age_str):
        if pd.isna(age_str): return 0
        try:
            parts = age_str.split()
            num = int(parts[0])
            unit = parts[1]
            if 'year' in unit:
                return num * 12
            elif 'month' in unit:
                return num
            elif 'week' in unit:
                return num // 4
            return 0
        except:
            return 0

    df['age_months'] = df['age_upon_outcome'].apply(parse_age)
    df = df.dropna(subset=['outcome_type'])

    return df

df = load_file()

def classify_age(months):
    if months < 12: return 'Junior'
    elif months < 36: return 'Young adult'
    elif months < 96: return 'Adult'
    else: return 'Senior'

def check_is_mix(breed_text):
    if 'Mix' in breed_text or '/' in breed_text: return 'Yes'
    return 'No'

df['age_group'] = df['age_months'].apply(classify_age)
df['is_mix'] = df['breed'].apply(check_is_mix)

st.sidebar.header("–ù–∞–≤—ñ–≥–∞—Ü—ñ—è")
page = st.sidebar.radio("–ü–µ—Ä–µ–π—Ç–∏ –¥–æ —Ä–æ–∑–¥—ñ–ª—É:", ["–ê–Ω–∞–ª—ñ–∑ —Ç–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è", "–í–∏—Å–Ω–æ–≤–∫–∏"])

if page == "–ê–Ω–∞–ª—ñ–∑ —Ç–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è":
    st.sidebar.divider()

    st.sidebar.header("–§—ñ–ª—å—Ç—Ä–∏")
    selected_type = st.sidebar.multiselect("–í–∏–±–µ—Ä—ñ—Ç—å —Ç–∏–ø —Ç–≤–∞—Ä–∏–Ω–∏:", df['animal_type'].unique(),
                                           default=df['animal_type'].unique())

    if not selected_type:
        filtered_df = df.copy()
    else:
        filtered_df = df[df['animal_type'].isin(selected_type)]

    filtered_df['outcome_type_ua'] = filtered_df['outcome_type'].map(OUTCOME_TRANSLATION).fillna(
        filtered_df['outcome_type'])
    filtered_df['sex_upon_outcome_ua'] = filtered_df['sex_upon_outcome'].map(SEX_TRANSLATION).fillna(
        filtered_df['sex_upon_outcome'])

    st.title("üêæ –ê–Ω–∞–ª—ñ–∑ –¥–∞–Ω–∏—Ö –ø—Ä–∏—Ç—É–ª–∫—É –¥–ª—è —Ç–≤–∞—Ä–∏–Ω")
    st.markdown("""
    –¶–µ–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –≤–∏–∫–æ–Ω—É—î –∞–Ω–∞–ª—ñ–∑ –¥–∞–Ω–∏—Ö –ø—Ä–∏—Ç—É–ª–∫—É –¥–ª—è —Ç–≤–∞—Ä–∏–Ω. 
    –í—ñ–Ω –¥–æ–ø–æ–º–∞–≥–∞—î –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ –Ω–∞ –∫–ª—é—á–æ–≤—ñ –ø–∏—Ç–∞–Ω–Ω—è:
    - –Ø–∫–∞ –¥–æ–ª—è —Ç–≤–∞—Ä–∏–Ω –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∞?
    - –Ø–∫ –≤—ñ–∫ –≤–ø–ª–∏–≤–∞—î –Ω–∞ —à–∞–Ω—Å–∏ —É—Å–∏–Ω–æ–≤–ª–µ–Ω–Ω—è?
    - –ß–∏ –≤–ø–ª–∏–≤–∞—î —Å—Ç–µ—Ä–∏–ª—ñ–∑–∞—Ü—ñ—è –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç?
    """)

    st.header("1. –û–≥–ª—è–¥ –¥–∞–Ω–∏—Ö")
    st.markdown("""
    –¶–µ–π —Ä–æ–∑–¥—ñ–ª –¥–∞—î –∑–∞–≥–∞–ª—å–Ω–µ —É—è–≤–ª–µ–Ω–Ω—è –ø—Ä–æ –≤–∏–±—ñ—Ä–∫—É. 
    –ú–µ—Ç—Ä–∏–∫–∏ –¥–æ–∑–≤–æ–ª—è—é—Ç—å —à–≤–∏–¥–∫–æ –æ—Ü—ñ–Ω–∏—Ç–∏ –æ–±—Å—è–≥ –¥–∞–Ω–∏—Ö —Ç–∞ —Å–µ—Ä–µ–¥–Ω—ñ–π –≤—ñ–∫ —Ç–≤–∞—Ä–∏–Ω —É –ø–æ—Ç–æ—á–Ω—ñ–π –≤–∏–±—ñ—Ä—Ü—ñ. 
    """)

    col1, col2 = st.columns([1, 2])
    with col1:
        st.metric("–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å—ñ–≤", filtered_df.shape[0])
        st.metric("–°–µ—Ä–µ–¥–Ω—ñ–π –≤—ñ–∫, –º—ñ—Å—è—Ü—ñ–≤", round(filtered_df['age_months'].mean(), 1))
        st.metric("–ù–∞–π—á–∞—Å—Ç—ñ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç", filtered_df['outcome_type_ua'].mode()[0])

    with col2:
        st.dataframe(filtered_df.head(5), width="stretch")

    st.divider()

    st.header("2. –ö–æ–Ω—Å—Ç—Ä—É—é–≤–∞–Ω–Ω—è –æ–∑–Ω–∞–∫")
    st.markdown("""
    –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –æ–∑–Ω–∞–∫ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —ñ—Å–Ω—É—é—á–∏—Ö –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∞–Ω–∞–ª—ñ–∑—É.
    - `age_group`: –≥—Ä—É–ø—É—î —Ç–≤–∞—Ä–∏–Ω –∑–∞ –∂–∏—Ç—Ç—î–≤–∏–º–∏ –µ—Ç–∞–ø–∞–º–∏.
    - `is_mix`: –≤–∏–∑–Ω–∞—á–∞—î, —á–∏ —î —Ç–≤–∞—Ä–∏–Ω–∞ –∑–º—ñ—à–∞–Ω–æ—ó –ø–æ—Ä–æ–¥–∏, —â–æ –º–æ–∂–µ –≤–ø–ª–∏–≤–∞—Ç–∏ –Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ñ—Å—Ç—å.
    """)

    st.code("""
    df['age_group'] = df['age_months'].apply(classify_age)
    df['is_mix'] = df['breed'].apply(check_is_mix)
    """, language='python')

    st.write("–ü—Ä–∏–∫–ª–∞–¥ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö:")
    st.dataframe(filtered_df[['animal_id', 'age_months', 'age_group', 'sex_upon_outcome', 'is_mix']].head())

    st.divider()

    st.header("3. –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö")
    st.markdown("–£ —Ü—å–æ–º—É —Ä–æ–∑–¥—ñ–ª—ñ —à—É–∫–∞—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≥—Ä–∞—Ñ—ñ–∫—ñ–≤.")
    tab1, tab2, tab3 = st.tabs(["–†–æ–∑–ø–æ–¥—ñ–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤", "–í—ñ–∫ —Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç", "–í–ø–ª–∏–≤ —Å—Ç–∞—Ç—É—Å—É"])

    with tab1:
        st.subheader("–©–æ —Å—Ç–∞—î—Ç—å—Å—è –∑ —Ç–≤–∞—Ä–∏–Ω–∞–º–∏?")
        st.markdown("""
        –ú–µ—Ç–∞: –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –∑–∞–≥–∞–ª—å–Ω—É –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ä–æ–±–æ—Ç–∏ –ø—Ä–∏—Ç—É–ª–∫—É.
        –¶—è –¥—ñ–∞–≥—Ä–∞–º–∞ –ø–æ–∫–∞–∑—É—î –≤—ñ–¥—Å–æ—Ç–∫–æ–≤–µ —Å–ø—ñ–≤–≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –ø–µ—Ä–µ–±—É–≤–∞–Ω–Ω—è —Ç–≤–∞—Ä–∏–Ω.
        
        *–í–∏—Å–æ–∫–∏–π –≤—ñ–¥—Å–æ—Ç–æ–∫ –£—Å–∏–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–∏–∫—É —î –ø–æ–∑–∏—Ç–∏–≤–Ω–∏–º –ø–æ–∫–∞–∑–Ω–∏–∫–æ–º.*
        """)
        fig_pie = px.pie(filtered_df, names='outcome_type_ua', title='–†–æ–∑–ø–æ–¥—ñ–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤', hole=0.4)
        st.plotly_chart(fig_pie, width="stretch")

    with tab2:
        st.subheader("–ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –≤—ñ–¥ –≤—ñ–∫–æ–≤–æ—ó –≥—Ä—É–ø–∏")
        st.markdown("""
        –ú–µ—Ç–∞: –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≥—ñ–ø–æ—Ç–µ–∑—É, —á–∏ –ª–µ–≥—à–µ –ø—Ä–∏–ª–∞—à—Ç—É–≤–∞—Ç–∏ –º–æ–ª–æ–¥–∏—Ö —Ç–≤–∞—Ä–∏–Ω.
        –ì—Ä–∞—Ñ—ñ–∫ –ø–æ—Ä—ñ–≤–Ω—é—î –∞–±—Å–æ–ª—é—Ç–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –¥–ª—è –∫–æ–∂–Ω–æ—ó –≤—ñ–∫–æ–≤–æ—ó –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó.
    
        *–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É –Ω–∞ –≥—Ä—É–ø–∏ Junior —Ç–∞ Senior, –∑–∞–∑–≤–∏—á–∞–π —Ä—ñ–∑–Ω–∏—Ü—è –≤ —É—Å–∏–Ω–æ–≤–ª–µ–Ω–Ω—ñ –Ω–∞–π–±—ñ–ª—å—à–∞.*
        """)
        age_order = ['Junior', 'Young adult', 'Adult', 'Senior']
        age_outcome = filtered_df.groupby(['age_group', 'outcome_type_ua']).size().reset_index(name='count')
        fig_bar = px.bar(age_outcome, x="age_group", y="count", color="outcome_type_ua",
                         title="–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ –≤—ñ–∫–æ–≤–∏—Ö –≥—Ä—É–ø–∞—Ö", barmode='group',
                         category_orders={'age_group': age_order})
        st.plotly_chart(fig_bar, width="stretch")


    with tab3:
        st.subheader("–í–ø–ª–∏–≤ —Å—Ç–∞—Ç—É—Å—É")
        st.markdown("""
        –ú–µ—Ç–∞: –æ—Ü—ñ–Ω–∏—Ç–∏, —á–∏ –≤–ø–ª–∏–≤–∞—î —Å—Ç–µ—Ä–∏–ª—ñ–∑–∞—Ü—ñ—è/–∫–∞—Å—Ç—Ä–∞—Ü—ñ—è –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
        –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ç–µ–ø–ª–æ–≤—É –∫–∞—Ä—Ç—É (Heatmap), –¥–µ –∫–æ–ª—å–æ—Ä–æ–º –ø–æ–∑–Ω–∞—á–µ–Ω–∞ –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.
        
        *–ß–∏—Å–ª–∞ –ø–æ–∫–∞–∑—É—é—Ç—å —á–∞—Å—Ç–∫—É –≤—ñ–¥ 0 –¥–æ 1. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, 0.66 –æ–∑–Ω–∞—á–∞—î 66% –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç—ñ.*
        """)
        fig_heat, ax = plt.subplots(figsize=(6, 4))
        ct = pd.crosstab(filtered_df['sex_upon_outcome_ua'], filtered_df['outcome_type_ua'], normalize='index')
        sns.heatmap(ct, annot=True, cmap="YlGnBu", fmt=".2f", ax=ax)
        plt.title("–ô–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å—Ç–∞—Ç—É—Å—É")
        plt.ylabel("")
        plt.xlabel("")
        st.pyplot(fig_heat)


elif page == "–í–∏—Å–Ω–æ–≤–∫–∏":
    st.header("–í–∏—Å–Ω–æ–≤–∫–∏")
    st.subheader("1. –Ø–∫–∞ –¥–æ–ª—è —Ç–≤–∞—Ä–∏–Ω –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∞?")

    col_dog, col_cat = st.columns(2)

    with col_dog:
        st.info("**–°–æ–±–∞–∫–∏ (Dogs)**")
        st.markdown("""
        –î–ª—è —Å–æ–±–∞–∫ –Ω–∞–π—á–∞—Å—Ç—ñ—à–∏–º —Å—Ü–µ–Ω–∞—Ä—ñ—î–º —î —É—Å–∏–Ω–æ–≤–ª–µ–Ω–Ω—è (41.7%). 
    
        –ü—Ä–æ—Ç–µ –≤–∞–∂–ª–∏–≤–æ—é –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—é —î –≤–∏—Å–æ–∫–∏–π –ø–æ–∫–∞–∑–Ω–∏–∫ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –≥–æ—Å–ø–æ–¥–∞—Ä—è–º (27.5%). 
        –¶–µ —Å–≤—ñ–¥—á–∏—Ç—å –ø—Ä–æ —Ç–µ, —â–æ –ø—Ä–∏—Ç—É–ª–æ–∫ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–∞—Ü—é—î —è–∫ –ø—É–Ω–∫—Ç –ø–æ—à—É–∫—É –∑–∞–≥—É–±–ª–µ–Ω–∏—Ö —É–ª—é–±–ª–µ–Ω—Ü—ñ–≤.
        """)

    with col_cat:
        st.info("**–ö–æ—Ç–∏ (Cats)**")
        st.markdown("""
        –£ –∫–æ—Ç—ñ–≤ —ñ–Ω—à–∞ –¥–∏–Ω–∞–º—ñ–∫–∞. –ú–∞–π–∂–µ –ø–æ–ª–æ–≤–∏–Ω–∞ —Ç–≤–∞—Ä–∏–Ω (49.4%) –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è —ñ–Ω—à–æ–º—É –∑–∞–∫–ª–∞–¥—É.
    
        –¶–µ –≤–∫–∞–∑—É—î –Ω–∞ —Ç–µ, —â–æ –¥–ª—è –∫–æ—Ç—ñ–≤ –∑–∞–∫–ª–∞–¥ –¥—ñ—î —è–∫ ¬´—Ç—Ä–∞–Ω–∑–∏—Ç–Ω–∏–π —Ö–∞–±¬ª: —ó—Ö —Ä—ñ–¥–∫–æ –∑–∞–±–∏—Ä–∞—é—Ç—å —Å—Ç–∞—Ä—ñ –≤–ª–∞—Å–Ω–∏–∫–∏ —Ç–∞ –Ω–µ –±–µ—Ä—É—Ç—å 
        –Ω–æ–≤—ñ, —Ç–æ–º—É –æ—Å–Ω–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –¥–æ –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤ –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –¥–æ–≥–ª—è–¥—É.
        """)

    st.info("""
    –ó–∞–≥–∞–ª—å–Ω–∏–π –ø—ñ–¥—Å—É–º–æ–∫: —Ö–æ—á–∞ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ –ª—ñ–¥–∏—Ä—É—î —É—Å–∏–Ω–æ–≤–ª–µ–Ω–Ω—è (40.3%), —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó —Ä–æ–±–æ—Ç–∏ –∑ –≤–∏–¥–∞–º–∏ –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ —Ä—ñ–∑–Ω—ñ: —Å–æ–±–∞–∫ 
    —á–∞—Å—Ç—ñ—à–µ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å –¥–æ–¥–æ–º—É, –∞ –∫–æ—Ç—ñ–≤ - –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º.
    """)

    st.subheader("2. –Ø–∫ –≤—ñ–∫ –≤–ø–ª–∏–≤–∞—î –Ω–∞ —à–∞–Ω—Å–∏ —É—Å–∏–Ω–æ–≤–ª–µ–Ω–Ω—è?")
    st.markdown("""
    –ê–Ω–∞–ª—ñ–∑ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î —á—ñ—Ç–∫—É —Ç–µ–Ω–¥–µ–Ω—Ü—ñ—é: —á–∏–º –º–æ–ª–æ–¥—à–∞ —Ç–≤–∞—Ä–∏–Ω–∞, —Ç–∏–º –≤–∏—â—ñ —ó—ó —à–∞–Ω—Å–∏ –∑–Ω–∞–π—Ç–∏ –Ω–æ–≤—É —Å—ñ–º'—é.
    """)

    col_young, col_old = st.columns(2)

    with col_young:
        st.info("**–ú–æ–ª–æ–¥—ñ (Junior & Young Adult)**")
        st.markdown("""
        –ó–∞–≥–∞–ª—å–Ω–∏–π –ø—ñ–¥—Å—É–º–æ–∫: –≥—Ä—É–ø–∞ –∑ –Ω–∞–π–≤–∏—â–∏–º –ø–æ–ø–∏—Ç–æ–º –Ω–∞ —É—Å–∏–Ω–æ–≤–ª–µ–Ω–Ω—è.
        
        –°–æ–±–∞–∫–∏: —É—Å–∏–Ω–æ–≤–ª–µ–Ω–Ω—è —î –±–µ–∑—É–º–æ–≤–Ω–æ –ª—ñ–¥–µ—Ä—É—é—á–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º. –ù–∞ –¥—Ä—É–≥–æ–º—É/—Ç—Ä–µ—Ç—å–æ–º—É –º—ñ—Å—Ü—ñ - –ø–µ—Ä–µ–¥–∞—á–∞ —ñ–Ω—à–æ–º—É 
        –∑–∞–∫–ª–∞–¥—É/–ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–∏–∫—É. –Ü–Ω—à—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –∑—É—Å—Ç—Ä—ñ—á–∞—é—Ç—å—Å—è —Ä—ñ–¥–∫–æ.
        
        –ö–æ—Ç–∏: –º–∞—é—Ç—å —Å–ø–µ—Ü–∏—Ñ—ñ–∫—É –≤ –≥—Ä—É–ø—ñ Junior. –¢—É—Ç –ª—ñ–¥–∏—Ä—É—î –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º, –∞ –Ω–∞ –¥—Ä—É–≥–æ–º—É –º—ñ—Å—Ü—ñ - —É—Å–∏–Ω–æ–≤–ª–µ–Ω–Ω—è. 
        –¶–µ —Å–≤—ñ–¥—á–∏—Ç—å –ø—Ä–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º –ø–µ—Ä–µ—Ç—Ä–∏–º–∫–∏ –¥–ª—è –≤–∏—Ä–æ—â—É–≤–∞–Ω–Ω—è –∫–æ—à–µ–Ω—è—Ç –ø–µ—Ä–µ–¥ –æ—Å—Ç–∞—Ç–æ—á–Ω–∏–º –ø—Ä–∏–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º.
        """)

    with col_old:
        st.info("**–î–æ—Ä–æ—Å–ª—ñ (Adult & Senior)**")
        st.markdown("""
        –ó–∞–≥–∞–ª—å–Ω–∏–π –ø—ñ–¥—Å—É–º–æ–∫: –∑–Ω–∏–∂–µ–Ω–Ω—è –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç—ñ —É—Å–∏–Ω–æ–≤–ª–µ–Ω–Ω—è. –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –∑–º—ñ—â—É—î—Ç—å—Å—è –∑ –ø–æ—à—É–∫—É –Ω–æ–≤–∏—Ö —Ä–æ–¥–∏–Ω –Ω–∞ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è 
        –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –≤–ª–∞—Å–Ω–∏–∫—ñ–≤ –∞–±–æ –ø–µ—Ä–µ–¥–∞—á—É —ñ–Ω—à–∏–º –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º.
        
        –°–æ–±–∞–∫–∏: —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —Ñ–µ–Ω–æ–º–µ–Ω –∑–∞–º—ñ—â–µ–Ω–Ω—è - –æ—Å–Ω–æ–≤–Ω–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Å—Ç–∞—î –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–∏–∫—É. –ë—ñ–ª—å—à—ñ—Å—Ç—å –¥–æ—Ä–æ—Å–ª–∏—Ö 
        —Å–æ–±–∞–∫ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É—é—Ç—å—Å—è —è–∫ –∑–∞–≥—É–±–ª–µ–Ω—ñ.
        
        –ö–æ—Ç–∏: –¥–æ—Ä–æ—Å–ª—ñ –∫–æ—Ç–∏ –º–∞—é—Ç—å –∑–Ω–∞—á–Ω–æ –º–µ–Ω—à—ñ —à–∞–Ω—Å–∏ –Ω–∞ —É—Å–∏–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ —á–∞—Å—Ç—ñ—à–µ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –≤ —Å–∏—Å—Ç–µ–º—ñ –ø—Ä–∏—Ç—É–ª–∫—ñ–≤.
        """)

    st.subheader("3. –ß–∏ –≤–ø–ª–∏–≤–∞—î —Å—Ç–µ—Ä–∏–ª—ñ–∑–∞—Ü—ñ—è –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç?")
    st.markdown("–°—Ç–∞—Ç—É—Å —Å—Ç–µ—Ä–∏–ª—ñ–∑–∞—Ü—ñ—ó —î –∫—Ä–∏—Ç–∏—á–Ω–∏–º –±–∞—Ä'—î—Ä–æ–º.")

    col_fact1, col_fact2 = st.columns(2)

    with col_fact1:
        st.info("**–ù–µ—Å—Ç–µ—Ä–∏–ª—ñ–∑–æ–≤–∞–Ω—ñ/–Ω–µ–∫–∞—Å—Ç—Ä–æ–≤–∞–Ω—ñ**")
        st.markdown(
            "–®–∞–Ω—Å –Ω–∞ –ø—Ä—è–º–µ —É—Å–∏–Ω–æ–≤–ª–µ–Ω–Ω—è <= 7%. –¢–∞–∫—ñ —Ç–≤–∞—Ä–∏–Ω–∏ —Å–∫–æ—Ä—ñ—à –∑–∞ –≤—Å–µ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π.")

    with col_fact2:
        st.info("**–°—Ç–µ—Ä–∏–ª—ñ–∑–æ–≤–∞–Ω—ñ/–∫–∞—Å—Ç—Ä–æ–≤–∞–Ω—ñ**")
        st.markdown("–û—Å–Ω–æ–≤–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è –¥–ª—è —É—Å–∏–Ω–æ–≤–ª–µ–Ω–Ω—è - –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å –∑—Ä–æ—Å—Ç–∞—î –¥–æ 48-67%.")

    st.divider()
    st.caption(f"–ê–Ω–∞–ª—ñ–∑ –ø—ñ–¥–≥–æ—Ç–æ–≤–∞–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –¥–∞—Ç–∞—Å–µ—Ç—É `pets.csv` | –í–∏–∫–æ–Ω–∞–ª–∞: —Å—Ç—É–¥–µ–Ω—Ç–∫–∞ –≥—Ä—É–ø–∏ 8.04.F3.010.25.1 "
               f"–ù–µ–¥–∞—à–∫—ñ–≤—Å—å–∫–∞ –í–∞–ª–µ—Ä—ñ—è ")